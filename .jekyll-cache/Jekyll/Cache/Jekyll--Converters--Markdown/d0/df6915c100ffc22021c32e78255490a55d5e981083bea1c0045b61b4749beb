I"@†<blockquote>
  <p>å¼€å¼€å¿ƒå¿ƒæ¥åˆ°æ…¢åŸï¼Œå¾…äº†ä¸€ä¸‹åˆï¼Œæ‰“ç®—çœ‹å®ŒCSAPPçš„ç¬¬äºŒç« </p>

  <p>æƒ³åˆ°ä¸Šæ¬¡CFçš„Cé¢˜è¿˜æ²¡åšå‡ºæ¥ï¼Œè¡¥å®Œå†çœ‹å§ã€‚ã€‚</p>

  <p>ç­‰æˆ‘è¡¥å®ŒEé¢˜çš„æ—¶å€™ï¼šæˆ‘ä»Šå¤©ä¸‹åˆä¸»è¦æƒ³å¹²å•¥æ¥ç€ã€‚ã€‚ã€‚</p>

  <p>è‰¹ã€‚ã€‚ã€‚</p>

  <p>å¯¹ä¸èµ·ï¼Œåˆå’•äº†ã€‚ã€‚ã€‚</p>
</blockquote>

<h2 id="a-got-any-grapes">A. Got Any Grapes?</h2>

<p>ç›´æ¥è´´ä»£ç ã€‚ã€‚ã€‚</p>

<p>æ²¡æœ‰é—®é¢˜ã€‚ã€‚ã€‚</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;bits/stdc++.h&gt;
#define ll long long
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">N</span><span class="o">=</span><span class="mf">1e5</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span class="n">M</span><span class="o">=</span><span class="mf">1e9</span><span class="o">+</span><span class="mi">7</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">;</span>
    <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">x</span><span class="o">&gt;&gt;</span><span class="n">y</span><span class="o">&gt;&gt;</span><span class="n">z</span><span class="p">;</span>
    <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">a</span><span class="o">&gt;&gt;</span><span class="n">b</span><span class="o">&gt;&gt;</span><span class="n">c</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">flag</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="o">&gt;=</span><span class="n">x</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">bb</span><span class="o">=</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">-</span><span class="n">x</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">bb</span><span class="o">&gt;=</span><span class="n">y</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">cc</span><span class="o">=</span><span class="n">bb</span><span class="o">+</span><span class="n">c</span><span class="o">-</span><span class="n">y</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">cc</span><span class="o">&gt;=</span><span class="n">z</span><span class="p">)</span><span class="n">flag</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"YES"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
    <span class="k">else</span> <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"NO"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="b-yet-another-array-partitioning-task">B. Yet Another Array Partitioning Task</h2>

<p>ä¸€å¼€å§‹æƒ³å¤šäº†ï¼Œå…¶å®ç¬¬m*kå¤§æ•°å°±ç®—æœ‰é‡å¤çš„ä¹Ÿä¸ä¼šå¯¹ç­”æ¡ˆæœ‰ä»»ä½•å½±å“ã€‚ã€‚ã€‚</p>

<p>äºæ˜¯æ‰¾å‡ºå‰m<em>kå¤§æ•°ï¼Œç„¶åä»å·¦åˆ°å³åˆ†æˆkç»„æ•°ï¼Œæ¯ç»„æ•°æ°å¥½æœ‰å‰m</em>kå¤§æ•°ä¸­çš„mä¸ªæ•°å°±è¡Œäº†</p>

<p>ç»“æ„ä½“éšä¾¿ä¸€æ’ï¼Œéšä¾¿ä¸€åˆ†å°±okäº†</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;bits/stdc++.h&gt;
#define ll long long
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">N</span><span class="o">=</span><span class="mf">2e5</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span class="n">M</span><span class="o">=</span><span class="mf">1e9</span><span class="o">+</span><span class="mi">7</span><span class="p">;</span>
<span class="k">struct</span> <span class="nc">node</span><span class="p">{</span>
    <span class="kt">int</span> <span class="n">p</span><span class="p">;</span>
    <span class="n">ll</span> <span class="n">v</span><span class="p">;</span>
<span class="p">}</span><span class="n">a</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
<span class="kt">bool</span> <span class="nf">cmp1</span><span class="p">(</span><span class="n">node</span> <span class="n">n</span><span class="p">,</span><span class="n">node</span> <span class="n">m</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">n</span><span class="p">.</span><span class="n">v</span><span class="o">&gt;</span><span class="n">m</span><span class="p">.</span><span class="n">v</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="nf">cmp2</span><span class="p">(</span><span class="n">node</span> <span class="n">n</span><span class="p">,</span><span class="n">node</span> <span class="n">m</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">n</span><span class="p">.</span><span class="n">p</span><span class="o">&lt;</span><span class="n">m</span><span class="p">.</span><span class="n">p</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">;</span>
    <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">n</span><span class="o">&gt;&gt;</span><span class="n">m</span><span class="o">&gt;&gt;</span><span class="n">k</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">v</span><span class="p">;</span>
        <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">p</span><span class="o">=</span><span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">a</span><span class="o">+</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">cmp1</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">tot</span><span class="o">=</span><span class="n">m</span><span class="o">*</span><span class="n">k</span><span class="p">;</span>
    <span class="n">ll</span> <span class="n">ans</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">tot</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">ans</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">v</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">ans</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">a</span><span class="o">+</span><span class="n">tot</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">cmp2</span><span class="p">);</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">a</span><span class="p">[</span><span class="n">m</span><span class="p">].</span><span class="n">p</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="o">*</span><span class="n">k</span><span class="p">;</span><span class="n">i</span><span class="o">+=</span><span class="n">m</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="sc">' '</span><span class="o">&lt;&lt;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">p</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="c-trailing-loves-or-loeufs">C. Trailing Loves (or Lâ€™oeufs?)</h2>

<p>è¿™ä¸ªé¢˜åšåˆ°æœ€åè¿˜æ˜¯æ²¡èƒ½åšå‡ºæ¥ï¼Œè™½ç„¶æƒ³å‡ºäº†å¤§éƒ¨åˆ†çš„æ€è·¯ï¼Œä½†æ˜¯ä¸€äº›å¤„ç†è¿˜æ˜¯æ²¡æœ‰æƒ³å‡ºæ¥</p>

<p>ä¸€ä¸ªæ•°åœ¨kè¿›åˆ¶ä¸‹åé¢0çš„ä¸ªæ•°å–å†³äºè¿™ä¸ªæ•°é™¤ä»¥ <strong>k</strong> èƒ½æœ‰å‡ æ¬¡ä½™æ•°ä¸º0ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¿™ä¸ªæ•°çš„å› å­æœ€å¤šèƒ½å‡ºç°å‡ ä¸ª <strong>k</strong></p>

<p>ä½†æ˜¯è¿™ä¸ªå¤„ç†æ–¹å¼ã€‚ã€‚ã€‚</p>

<p>ä¸€å¼€å§‹æˆ‘æ˜¯æƒ³æ±‚å‡º <strong>k</strong> çš„æ¯ä¸€å¯¹å› å­ï¼Œæ±‚æ¯å¯¹å› å­åœ¨é˜¶ä¹˜ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œå³ä¸¤ä¸ªå› å­å‡ºç°æ¬¡æ•°çš„è¾ƒå°å€¼ï¼Œä½†æ˜¯ã€‚ã€‚ã€‚waäº†ï¼Œå› ä¸ºåé¢çš„å› å­çš„å› å­å¯èƒ½ä¼šåŒ…å«å‰é¢çš„å› å­</p>

<p>äºæ˜¯è¿™ä¸ªé¢˜æœ€åä¹Ÿæ²¡èƒ½å†™å‡ºæ¥ã€‚ã€‚ã€‚</p>

<p>åæ¥çœ‹äº†çœ‹rank1çš„ä»£ç ï¼Œè·Ÿæˆ‘çš„ä»£ç ç»“åˆä¸€ä¸‹ï¼Œæ€»ç®—æ˜¯è¿‡äº†è¿™ä¸ªé¢˜</p>

<p>å…¶å®è¿™ä¸ªé¢˜åº”è¯¥æ±‚kçš„æ‰€æœ‰å› å­ï¼ˆåŒ…æ‹¬é‡å¤çš„å› å­ï¼‰åœ¨nä¸­å‡ºç°çš„æ¬¡æ•°çš„æœ€å°å€¼ã€‚ã€‚ã€‚è‰¹</p>

<p>æ‰€ä»¥æ‰¾åˆ° <strong>k</strong> çš„ä¸€ä¸ªå› å­ <strong>i</strong> åï¼Œ <strong>i</strong> åœ¨ <strong>k</strong> ä¸­å‡ºç°äº†å‡ æ¬¡ï¼Œæœ€å <strong>i</strong> å‡ºç°çš„æ¬¡æ•°å°±è¦åˆ†æˆå‡ ä»½ï¼Œå› ä¸ºé‡å¤çš„å› å­ä¹Ÿè¦ç®—</p>

<p>æ¯ç®—å®Œä¸€ä¸ªå› å­ï¼Œéƒ½è¦å°†è¿™ä¸ªå› å­åœ¨ <strong>k</strong> ä¸­å»æ‰</p>

<p>æœ€åå¦‚æœ <strong>k</strong> ä¸æ˜¯1ï¼Œè¿˜è¦å°† <strong>k</strong> æœ¬èº«ç®—ä¸€é</p>

<p>æ²¡æƒ³å‡ºæ¥å•Šã€‚ã€‚ã€‚ã€‚å¯æƒœ</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;bits.stdc++.h&gt;
#define ll long long
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">N</span><span class="o">=</span><span class="mf">1e5</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span class="n">M</span><span class="o">=</span><span class="mf">1e9</span><span class="o">+</span><span class="mi">7</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="n">ll</span> <span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">;</span>
    <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">n</span><span class="o">&gt;&gt;</span><span class="n">k</span><span class="p">;</span>
    <span class="n">ll</span> <span class="n">ans</span><span class="o">=</span><span class="mf">1e18</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">k</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">k</span><span class="o">%</span><span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ll</span> <span class="n">x</span><span class="o">=</span><span class="n">i</span><span class="p">;</span>
            <span class="n">ll</span> <span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="o">/</span><span class="n">x</span><span class="p">;</span>
            <span class="n">ll</span> <span class="n">h</span><span class="o">=</span><span class="n">num</span><span class="p">;</span>
            <span class="n">ll</span> <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">k</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">k</span> <span class="o">/=</span> <span class="n">i</span><span class="p">;</span>
                <span class="n">cnt</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">while</span><span class="p">(</span><span class="n">h</span><span class="o">!=</span><span class="mi">0</span><span class="p">){</span>
                <span class="n">num</span><span class="o">+=</span><span class="n">h</span><span class="o">/</span><span class="n">x</span><span class="p">;</span>
                <span class="n">h</span><span class="o">/=</span><span class="n">x</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">ans</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">num</span><span class="o">/</span><span class="n">cnt</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">k</span><span class="o">!=</span><span class="mi">1</span><span class="p">){</span>
        <span class="n">ll</span> <span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="o">/</span><span class="n">k</span><span class="p">;</span>
        <span class="n">ll</span> <span class="n">h</span><span class="o">=</span><span class="n">num</span><span class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">h</span><span class="o">!=</span><span class="mi">0</span><span class="p">){</span>
            <span class="n">num</span><span class="o">+=</span><span class="n">h</span><span class="o">/</span><span class="n">k</span><span class="p">;</span>
            <span class="n">h</span><span class="o">/=</span><span class="n">k</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">ans</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">num</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">ans</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="d-flood-fill">D. Flood Fill</h2>

<p>è¿™ä¸ªé¢˜æœç„¶æ²¡æœ‰æˆ‘ä¸€å¼€å§‹æƒ³çš„é‚£ä¹ˆç®€å•ï¼Œå…ˆæŠŠè¿ç»­é‡å¤çš„å…ƒç´ å»æ‰ï¼Œåªç•™ä¸‹ä¸€ä¸ªå°±è¡Œï¼Œå¤šå‡ºæ¥çš„æ²¡æœ‰ä»»ä½•ç”¨</p>

<p>å¤„ç†åï¼Œæœ¬æ¥æ˜¯æƒ³ç”¨å…ƒç´ æ€»ä¸ªæ•°å‡å»å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ çš„ä¸ªæ•°å°±è¡Œï¼Œä½†æ˜¯å¿½ç•¥äº†ä¸€ç‚¹ï¼Œå¦‚æœä¸¤ä¸ªç›¸åŒå…ƒç´ ä¹‹é—´è¿˜æœ‰ä¸¤ä¸ªç›¸åŒçš„å…ƒç´ ï¼Œä¸­é—´ä¸¤ä¸ªç›¸åŒå…ƒç´ ä¹Ÿä¼šå‡å°‘æ“ä½œæ¬¡æ•°ï¼Œäºæ˜¯æˆ‘å°±å»çœ‹å¤§ä½¬ä»¬ä»£ç äº†ã€‚ã€‚ã€‚</p>

<p>ç„¶åæ‰¾åˆ°äº†ä¸€ä¸ªéå¸¸å¥½ç†è§£çš„dp</p>

<p>åªéœ€è¦å¼€ä¸€ä¸ª <strong>dp[ l ][ r ]</strong> ï¼Œä»£è¡¨æ“ä½œåŒºé—´ <strong>( l , r )</strong> éœ€è¦çš„æ€»å…±çš„æ“ä½œæ¬¡æ•°</p>

<p>åœ¨ä¸è€ƒè™‘åŒºé—´ä¸¤ç«¯å…ƒç´ ç›¸åŒçš„æƒ…å†µçš„æ—¶å€™ï¼Œç­”æ¡ˆå°±æ˜¯ <strong>( l + 1 , r )</strong> çš„æ“ä½œæ¬¡æ•°å’Œ <strong>( l , r - 1 )</strong> çš„æ“ä½œæ¬¡æ•°çš„è¾ƒå°å€¼ï¼ˆå› ä¸ºåé¢è¿˜è¦è€ƒè™‘ä¸¤ç«¯å…ƒç´ ç›¸åŒçš„æƒ…å†µï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªå€¼å¯èƒ½ä¸ç›¸ç­‰ï¼‰åŠ ä¸€</p>

<p>ç»è¿‡ä»¥ä¸Šæ“ä½œåï¼Œå¦‚æœæ°å¥½åŒºé—´ä¸¤ç«¯çš„å…ƒç´ ç›¸åŒï¼Œé‚£ä¹ˆæ“ä½œæ¬¡æ•°å°±æ˜¯ <strong>( l + 1, r - 1 )</strong> çš„æ“ä½œæ¬¡æ•°åŠ ä¸€ï¼Œä¸€èˆ¬æ˜¯æ¯” <strong>( l , r )</strong> çš„æ“ä½œæ¬¡æ•°å°å§ï¼Œä»¥é˜²ä¸‡ä¸€å–ä¸€ä¸ªmin</p>

<p>äºæ˜¯å°±å¯ä»¥æ„‰å¿«çš„dpäº†ï¼Œæœ€ç»ˆç­”æ¡ˆå°±æ˜¯ <strong>dp[ 1 ][ n ]</strong></p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;bits/stdc++.h&gt;
#define ll long long
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">N</span><span class="o">=</span><span class="mf">5e3</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span class="n">M</span><span class="o">=</span><span class="mf">1e9</span><span class="o">+</span><span class="mi">7</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">c</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">dp</span><span class="p">[</span><span class="n">N</span><span class="p">][</span><span class="n">N</span><span class="p">];</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">n</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="kt">int</span> <span class="n">pre</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">pre</span><span class="o">==</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="k">continue</span><span class="p">;</span>
        <span class="n">c</span><span class="p">[</span><span class="o">++</span><span class="n">cnt</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="n">pre</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">r</span><span class="o">&lt;=</span><span class="n">cnt</span><span class="p">;</span><span class="n">r</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">l</span><span class="o">=</span><span class="n">r</span><span class="p">;</span><span class="n">l</span><span class="o">&gt;=</span><span class="mi">1</span><span class="p">;</span><span class="n">l</span><span class="o">--</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="n">r</span><span class="p">]</span><span class="o">=</span><span class="mf">1e8</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">l</span><span class="o">==</span><span class="n">r</span><span class="p">){</span>
                <span class="n">dp</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="n">r</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="n">r</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">r</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="n">r</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">==</span><span class="n">c</span><span class="p">[</span><span class="n">l</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="o">&lt;=</span><span class="n">r</span><span class="o">-</span><span class="mi">1</span><span class="p">){</span>
                <span class="n">dp</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="n">r</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="n">r</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">r</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">cnt</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="e-arithmetic-progression">E. Arithmetic Progression</h2>

<p>è¿™ä¸ªäº¤äº’é¢˜å¯¹æˆ‘æ¥è¯´å¤ªé¬¼ç•œäº†ï¼Œé¢˜æ„è¯»çš„æˆ‘ä¸€è„¸æ‡µé€¼ã€‚ã€‚ã€‚</p>

<p>ç¬¬ä¸€æ¬¡é‡åˆ°äº¤äº’é¢˜ï¼Œè¾“å…¥è¾“å‡ºéƒ½çœ‹ä¸æ‡‚ã€‚ã€‚ã€‚</p>

<p>ä¸è¿‡è¿˜å¥½æœ‰é¢˜è§£</p>

<p>é¢˜æ„æ˜¯æœ‰ä¸€ä¸ªé•¿åº¦ä¸º <strong>n</strong> çš„ä¹±åºçš„æ•°åˆ—ï¼Œå¦‚æœé€’å¢æ’åˆ—çš„è¯æ˜¯ä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œè®©ä½ ç”¨ä»¥ä¸‹è¯¢é—®åœ¨60æ¬¡å†…æ±‚å‡ºè¿™ä¸ªç­‰å·®æ•°åˆ—ï¼š</p>

<ol>
  <li><strong>â€ ? i â€œ</strong> ï¼Œå¯ä»¥è¯¢é—®ç¬¬ <strong>i</strong> ä¸ªæ•°çš„å…·ä½“å¤§å°</li>
  <li><strong>â€ &gt; x â€œ</strong> ï¼Œå¯ä»¥æ£€æŸ¥æ•°åˆ—ä¸­æ˜¯å¦æœ‰ä¸¥æ ¼å¤§äº <strong>x</strong> çš„æ•°ï¼Œæœ‰å°±è¾“å‡º 1 ï¼Œæ²¡æœ‰å°±è¾“å‡º 0</li>
</ol>

<p>ä»¥ä¸Šè¯¢é—®éœ€è¦ç¨‹åºè¾“å‡ºï¼Œæµ‹è¯„å§¬ç»™å‡ºè¯¢é—®çš„ç­”æ¡ˆã€‚ã€‚ã€‚æ‰€ä»¥é¢˜æ„å·²è¯»æ‡µã€‚ã€‚ã€‚</p>

<p>ç›´æ¥ç”¨ç¬¬äºŒä¸ªè¯¢é—®åœ¨ <strong>[ 1 , 1e9 ]</strong> èŒƒå›´å†…äºŒåˆ†æŸ¥æ‰¾æ•´ä¸ªæ•°åˆ—ä¸­çš„æœ€å¤§å€¼ï¼Œç„¶åç”¨å‰©ä¸‹çš„è¯¢é—®æ¬¡æ•°ç”¨ç¬¬ä¸€ä¸ªè¯¢é—®éšæœºæ±‚å‡ºä¸€äº›å€¼ï¼Œç”¨æœ€å¤§å€¼ä¸ä»–ä»¬ä½œå·®ï¼Œæ±‚æ‰€æœ‰å·®å€¼çš„ <strong>gcd</strong> å°±æ˜¯å…¬å·® <strong>d</strong></p>

<p>å› ä¸ºè¦è¾“å‡ºé¦–é¡¹å’Œå…¬å·®ï¼Œé¦–é¡¹å°±æ˜¯æœ€å¤§å€¼å‡å» <strong>( n - 1 ) * d</strong></p>

<p>è¿™ä¹ˆåšç­”æ¡ˆé”™è¯¯çš„æ¦‚ç‡æå°ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºæ˜¯æ­£ç¡®çš„</p>

<p>ä½†æ˜¯éšæœºæ•°æŠŠæˆ‘å‘äº†å¥½ä¹…ï¼Œ<strong>rand()</strong> èƒ½ç”Ÿæˆçš„éšæœºæ•°å¥½åƒæœ‰ä¸€å®šèŒƒå›´ï¼Œæ‰€ä»¥è¦ä½¿ç”¨ <strong>rand() * rand()</strong> ã€‚ã€‚ã€‚</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;bits/stdc++.h&gt;
#define ll long long
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">N</span><span class="o">=</span><span class="mf">1e6</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span class="n">M</span><span class="o">=</span><span class="mf">1e9</span><span class="o">+</span><span class="mi">7</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">v</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mf">1e9</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">n</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;</span><span class="n">r</span><span class="p">){</span>
        <span class="n">cnt</span><span class="o">++</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">mid</span><span class="o">=</span><span class="n">l</span><span class="o">+</span><span class="p">((</span><span class="n">r</span><span class="o">-</span><span class="n">l</span><span class="p">)</span><span class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">);</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"&gt; "</span><span class="o">&lt;&lt;</span><span class="n">mid</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
        <span class="n">cout</span><span class="p">.</span><span class="n">flush</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">flag</span><span class="p">;</span>
        <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">flag</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">){</span>
            <span class="n">l</span><span class="o">=</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="n">r</span><span class="o">=</span><span class="n">mid</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">int</span> <span class="n">nn</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">60</span><span class="o">-</span><span class="n">cnt</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">nn</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">x</span><span class="o">=</span><span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="n">rand</span><span class="p">()</span><span class="o">%</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">x</span><span class="p">])</span><span class="n">x</span><span class="o">=</span><span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="n">rand</span><span class="p">()</span><span class="o">%</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">v</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"? "</span><span class="o">&lt;&lt;</span><span class="n">x</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
        <span class="n">cout</span><span class="p">.</span><span class="n">flush</span><span class="p">();</span>
        <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">x</span><span class="p">;</span>
        <span class="n">d</span><span class="o">=</span><span class="n">__gcd</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">l</span><span class="o">-</span><span class="n">x</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"! "</span><span class="o">&lt;&lt;</span><span class="n">l</span><span class="o">-</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">d</span><span class="o">&lt;&lt;</span><span class="sc">' '</span><span class="o">&lt;&lt;</span><span class="n">d</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="f-please-another-queries-on-array">F. Please, another Queries on Array?</h2>

<p>æ•‘å‘½å•Šï¼Œè¿™ä¸ªç¡¬æ ¸çº¿æ®µæ ‘æˆ‘å†™ä¸å‡ºæ¥å•Šå˜¤å˜¤å˜¤å˜¤å˜¤å˜¤å˜¤å˜¤å˜¤ã€‚ã€‚ã€‚ã€‚ã€‚</p>
:ET